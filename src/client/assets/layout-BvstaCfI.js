import{w as h}from"./with-props-CL8xjY9b.js";import{u as m,a as u,r as x,j as e,F as r,N as p,O as j}from"./chunk-7R3XDUXW-FmQ3R6bm.js";const v=h(function({loaderData:d}){const{contacts:l,q:i}=d,n=m(),c=u(),a=n.location&&new URLSearchParams(n.location.search).has("q");return x.useEffect(()=>{const s=document.getElementById("q");s instanceof HTMLInputElement&&(s.value=i||"")},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"sidebar",children:[e.jsxs("h1",{children:["Remix Contacts",e.jsxs(r,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"LOGOUT"}),e.jsx("button",{type:"submit",children:"Logout"})]})]}),e.jsxs("div",{children:[e.jsxs(r,{id:"search-form",onChange:s=>{const t=i===null;c(s.currentTarget,{replace:!t})},role:"search",children:[e.jsx("input",{"aria-label":"Search contacts",className:a?"loading":"",defaultValue:i||"",id:"q",name:"q",placeholder:"Search",type:"search"}),e.jsx("div",{"aria-hidden":!0,hidden:!a,id:"search-spinner"})]}),e.jsxs(r,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"NEW_CONTACT"}),e.jsx("button",{type:"submit",children:"New"})]})]}),e.jsx("nav",{children:l.length?e.jsx("ul",{children:l.map(s=>e.jsx("li",{children:e.jsxs(p,{className:({isActive:t,isPending:o})=>t?"active":o?"pending":"",to:`${s.id}`,children:[s.firstName||s.lastName?e.jsxs(e.Fragment,{children:[s.firstName," ",s.lastName]}):e.jsx("i",{children:"No Name"})," ",s.favorite?e.jsx("span",{children:"â˜…"}):null]})},s.id))}):e.jsx("p",{children:e.jsx("i",{children:"No contacts"})})})]}),e.jsx("div",{className:n.state==="loading"&&!a?"loading":"",id:"detail",children:e.jsx(j,{})})]})});export{v as default};
